name: UU Instrumented Tests
permissions:
  contents: read
 
on:
  workflow_call:
    inputs:
      configuration:
        description: 'Test configuration to run'
        required: false
        type: string
        default: 'quickGroup'
      runner:
        description: 'Runner environment'
        required: false
        type: string
        default: 'ubuntu-latest'
      module_path:
        description: 'Gradle module path'
        required: false
        type: string
        default: 'library'
        
jobs:
  instrumented-tests:
    name: Run Android Instrumented Tests (${{ inputs.configuration }})
    runs-on: ${{ inputs.runner }}
    steps:
      - name: Run Instrumented Tests
        uses: SilverPineSoftware/UUKotlinBuild/.github/actions/uu-instrumented-tests@main
        with:
          configuration: ${{ inputs.configuration }}
          module_path: ${{ inputs.module_path }}
          build_number: ${{ github.run_number }}
          java_distribution: ${{ vars.UU_JAVA_DISTRIBUTION }}
          java_version: ${{ vars.UU_JAVA_VERSION }}
          runner: ${{ inputs.runner }}

